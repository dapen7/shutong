<style>
   
</style>
<template>
    <div class="homePage">
        <div class="headerDiv">
            <div class="contentArea">
                <!-- 顶部logo -->
                <div class="topLogo centerFlex isPc">
                    <a href="../../views/four/home.html" class="texta centerFlex">
                        <img class="logo" src="../../images/four/home_logo_icon.png" alt="">
                        <span class="logoText">CASC</span>
                    </a>
                </div>
                <div class="menuIcon">
                    <i class="iconfont iconhome_list_icon"></i>
                </div>
                <!-- 二级菜单 -->
                <div class="secondMenuDiv" style="display: none;">
                    <ul class="layui-nav">
                        <li class="layui-nav-item layui-this">
                          <a href="javascript:;">用户列表</a>
                          <dl class="layui-nav-child">
                            <dd><a href="../../views/four/userInfo.html">用户信息</a></dd>
                          </dl>
                        </li>
                        <li class="layui-nav-item"><a href="../../views/four/org.html">机构管理</a></li>
                        <li class="layui-nav-item"><a href="../../views/four/dictionary.html">字典管理</a></li>
                        <li class="layui-nav-item"><a href="../../views/four/plan.html">策划目录</a></li>
                        <li class="layui-nav-item"><a href="../../views/four/quality.html">质卡填报</a></li>
                        <li class="layui-nav-item"><a href="../../views/four/plan.html">承担的任务</a></li>
                        <li class="layui-nav-item"><a href="../../views/four/charts.html">图表</a></li>
                    </ul>
                </div>
                <div class="rightDiv">
                    <div class="searchDiv">
                        <div class="inputItem">
                            <div class="inputBox">
                                <input type="text" placeholder="输入关键词搜索…">
                                <img src="../../images/four/home_sousuo_icon@2x.png" alt="">
                            </div>
                        </div>
                    </div>
                    <div class="fucList centerFlex">
                        <div class="fucItem">
                            <a href="../../views/four/nav.html" class="texta centerFlex">
                                <i class="iconfont iconhome_icon1" style="color:var(--color-text-primary);font-size:20px;"></i>
                            </a>
                        </div>
                        <div class="fucItem centerFlex">
                            <div class="dropDownMenu">
                                <div class="avatarDiv">
                                    <i class="iconfont icontheme_icon1" style="color:var(--color-text-primary);font-size:20px;"></i>
                                </div>
                                <div>
                                    <div><a href="../../views/four/home.html">第四套</a></div>
                                    <div><a href="../../views/five/home.html">第五套</a></div>
                                    <div><a href="../../views/six/home.html">第六套</a></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="userInfo cursor">
                        <div class="dropDownMenu">
                            <div class="avatarDiv">
                                <img class="headPic" src="../../images/four/home_headpic_icon.png" alt="">
                                <span class="userName">admin</span>
                                <i class="iconfont iconarrow-down" style="color:var(--color-text-regular)"></i>
                            </div>
                            <div >
                                <div><a href="javascript:;">个人信息</a></div>
                                <div><a href="javascript:;">修改密码</a></div>
                                <div><a href="javascript:;">我的通知</a></div>
                                <div><a href="../../views/four/login.html">退出</a></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="contentDiv">
            <div class="mobileShadow"></div>
            <!-- 菜单 -->
            <div class="menuDiv" style="display: none;">
                <div class="topLogo topLogo1 centerFlex isMobile">
                    <a href="../../views/four/home.html" class="texta centerFlex">
                        <img class="logo" src="../../images/four/home_logo_icon.png" alt="">
                        <span class="logoText">CASC</span>
                    </a>
                </div>

                <ul class="menuContent">
                    <li class="menuItem">
                      <a href="../../views/four/nav.html">
                          <i class="iconfont iconhome_home_icon"></i>
                          首页
                      </a>
                    </li>
                    <li class="menuItem">
                      <a href="../../views/four/home.html">
                        <i class="iconfont iconhome_working_icon2"></i>
                        我的工作台
                    </a>
                    </li>
                    <li class="menuItem setBtn">
                        <a href="javascript:;">
                            <i class="iconfont iconhome_organ_icon2"></i>
                            机构用户
                        </a>
                    </li>
                    <li class="menuItem setBtn">
                        <a href="javascript:;" >
                            <i class="iconfont iconhome_set_icon"></i>
                            系统设置
                        </a>
                    </li>
                </ul>
            </div>
            <!-- 正文 -->
            <div class="mainDiv">
                <slot></slot>
            </div>
        </div>
    </div>
</template>
<script>
    window.skinName = "four";
    $(function(){
        if(window.innerWidth<1000){
            $(".mainDiv").before($(".secondMenuDiv"));
        }else{
            $(".rightDiv").before($(".secondMenuDiv"));
        }
        window.addEventListener("resize",function(){
            if(window.innerWidth<1000){
                $(".mainDiv").before($(".secondMenuDiv"));
            }else{
                $(".rightDiv").before($(".secondMenuDiv"));
            }
        });
        $(".setBtn").on("click",function(){
            $(".active").removeClass("active");
            $(this).addClass("active");
            $(".secondMenuDiv").show();
        });
        
        $(".menuItem").on("click",function(){
            hideMenu();
            event.stopPropagation();
        });
        document.querySelector(".menuIcon").addEventListener("click",function(){
            showMenu();
            event.stopPropagation();
        });
        document.querySelector(".mobileShadow").addEventListener("click",function(){
            hideMenu();
            event.stopPropagation();
        });
        // document.getElementById("showUserInfo").addEventListener("click",function(){
        //     document.querySelector(".thirdMenuDiv").style.display = "";
        //     hideMenu();
        //     event.stopPropagation();
        // });
        function showMenu(){
            document.querySelector(".mobileShadow").style.display = "";
            document.querySelector(".menuDiv").classList.remove("hideMenu");
        }
        function hideMenu(){
            document.querySelector(".mobileShadow").style.display = "none";
            document.querySelector(".menuDiv").classList.add("hideMenu");
        }
        if(window.innerWidth<1000){
            hideMenu();
        }
        document.querySelector(".menuDiv").style.display = "";
        window.addEventListener("resize",function(){
            if(window.innerWidth<1000){
                hideMenu();
            }
            document.querySelector(".menuDiv").style.display = "";
        })
        //设置菜单激活项目
        var menuName = $("#app").attr("active");
        if(menuName){
            $(".menuDiv a").each(function(index,item){
                if($(item).text().indexOf(menuName)!=-1){
                    $(".menuDiv li.active").removeClass("active");
                    $($(item).parents("li")[0]).addClass("active");
                }
            })
        }
    });
    //layui 菜单
    layui.use('element', function(){
        var element = layui.element; //导航的hover效果、二级菜单等功能，需要依赖element模块
        //监听导航点击
        element.on('nav(demo)', function(elem){
            //console.log(elem)
            layer.msg(elem.text());
        });
    });
</script>